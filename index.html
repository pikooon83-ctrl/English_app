<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>è‹±èªã‚¹ãƒ”ãƒ¼ãƒç·´ç¿’ã‚¢ãƒ—ãƒªä¸€è¦§</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: #f7f8fb;
      color: #222;
      line-height: 1.5;
    }
    .wrap {
      max-width: 860px;
      margin: 0 auto;
      padding: 16px;
    }
    .hero {
      background: #fff;
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 6px 24px rgba(0,0,0,0.06);
      margin-bottom: 16px;
    }
    h1 {
      margin: 0 0 6px;
      font-size: 24px;
    }
    .sub {
      color: #667085;
      font-size: 14px;
      margin: 0;
    }

    .toolbar {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
      margin: 12px 0 0;
    }
    .toolbar input {
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid #d8deea;
      font-size: 15px;
      background: #fff;
    }

    .section {
      margin-top: 16px;
    }
    .section-title {
      font-size: 14px;
      color: #667085;
      margin: 0 0 8px;
      padding-left: 2px;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }

    .card {
      background: #fff;
      border-radius: 16px;
      padding: 14px;
      box-shadow: 0 4px 18px rgba(0,0,0,0.05);
      border: 1px solid #eef1f6;
    }

    .row {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 10px;
    }

    .id-badge {
      display: inline-block;
      font-size: 12px;
      font-weight: 700;
      color: #1f6feb;
      background: #eaf2ff;
      border-radius: 999px;
      padding: 4px 10px;
      margin-bottom: 8px;
    }

    .title {
      margin: 0;
      font-size: 18px;
      font-weight: 700;
      line-height: 1.35;
    }

    .meta {
      margin-top: 6px;
      color: #667085;
      font-size: 13px;
    }

    .desc {
      margin-top: 8px;
      color: #444;
      font-size: 14px;
    }

    .tags {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .tag {
      display: inline-block;
      font-size: 12px;
      color: #475467;
      background: #f2f4f7;
      border-radius: 999px;
      padding: 4px 8px;
    }

    .actions {
      display: flex;
      gap: 8px;
      margin-top: 12px;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-block;
      text-decoration: none;
      border: none;
      border-radius: 10px;
      padding: 10px 12px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
    }

    .btn-primary {
      background: #1f6feb;
      color: #fff;
    }

    .btn-secondary {
      background: #eef1f6;
      color: #344054;
    }

    .placeholder {
      border: 2px dashed #d8deea;
      background: #fbfcfe;
    }

    .placeholder .title {
      color: #667085;
    }

    .footer-note {
      margin-top: 16px;
      color: #667085;
      font-size: 13px;
      text-align: center;
      padding-bottom: 10px;
    }

    @media (min-width: 700px) {
      .grid {
        grid-template-columns: 1fr 1fr;
      }
      .toolbar {
        grid-template-columns: 1fr auto auto;
      }
      .toolbar button {
        white-space: nowrap;
      }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <h1>ğŸ“š è‹±èªã‚¹ãƒ”ãƒ¼ãƒç·´ç¿’ã‚¢ãƒ—ãƒªä¸€è¦§</h1>
      <p class="sub">
        4ã‚³ãƒï¼‹1åˆ†ã‚¿ã‚¤ãƒãƒ¼ï¼‹éŒ²éŸ³ï¼‹èª­ã¿ä¸Šã’ã¤ãã®ç·´ç¿’ã‚¢ãƒ—ãƒªã‚’ã“ã“ã‹ã‚‰é–‹ã
      </p>

      <div class="toolbar">
        <input id="searchInput" type="text" placeholder="ã‚¿ã‚¤ãƒˆãƒ«ã‚„ã‚¿ã‚°ã§æ¤œç´¢ï¼ˆä¾‹ï¼šæœ / drill / bedtimeï¼‰">
        <button id="showAllBtn" class="btn btn-secondary" type="button">å…¨ä»¶è¡¨ç¤º</button>
        <button id="showTodoBtn" class="btn btn-secondary" type="button">æœªä½œæˆã ã‘</button>
      </div>
    </div>

    <div class="section">
      <p class="section-title">ã‚¢ãƒ—ãƒªä¸€è¦§ï¼ˆé€šã—ç•ªå·ã¤ãï¼‰</p>

      <div id="appGrid" class="grid">
        <!-- JSã§æç”» -->
      </div>
    </div>

    <div class="footer-note">
      ğŸ’¡ ãƒœã‚¤ã‚¹ãƒãƒ£ãƒƒãƒˆã§ã¯ã€Œ#001ã®5æ–‡ç›®ã‚’ç›´ã—ãŸã„ã€ã¿ãŸã„ã«ç•ªå·ã§è©±ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹
    </div>
  </div>

  <script>
    (function () {
      'use strict';

      // ===== ä¸€è¦§ãƒ‡ãƒ¼ã‚¿ï¼ˆã“ã“ã‚’å¢—ã‚„ã—ã¦ã„ãï¼‰=====
      // status: "ready"ï¼ˆä½œæˆæ¸ˆã¿ï¼‰ / "todo"ï¼ˆæ ã ã‘ï¼‰
      var apps = [
        {
          id: "001",
          title: "æœã®ãƒã‚¿ãƒã‚¿",
          version: "v1",
          status: "ready",
          path: "apps/001.html",
          description: "æœã®è¦æ±‚ãƒ©ãƒƒã‚·ãƒ¥ã€TVã€ãƒ‰ãƒªãƒ«ã¸ã®æ„æ¬²ã€ç¡çœ ã®å¿ƒé…ã‚’4ã‚³ãƒã§è©±ã™ç·´ç¿’ã€‚",
          tags: ["æœ", "è‚²å…", "drill", "sleep", "4ã‚³ãƒ", "1åˆ†ã‚¹ãƒ”ãƒ¼ãƒ"],
          updated: "2026-02-26"
        },
        {
          
  id: "002",
  title: "ä»•äº‹ã¨å®¶åº­ã®ã‚ã„ã ã§åƒãç¶šã‘ã‚‹",
  version: "v1",
  status: "ready",
  path: "apps/002.html",
  description: "12å¹´åƒã„ã¦ããŸä¼šç¤¾ã§ã€ä»•äº‹ãƒ»å®¶åº­ãƒ»è‹¥ã„äººã¨ã®æ¯”è¼ƒã®ä¸­ã§ã‚‚åƒãç¶šã‘ã‚‹æ°—æŒã¡ã‚’4ã‚³ãƒã§è©±ã™ç·´ç¿’ã€‚",
  tags: ["ä»•äº‹", "å®¶åº­", "ã‚­ãƒ£ãƒªã‚¢", "æ¯”è¼ƒ", "è‡ªå·±å®Ÿç¾", "4ã‚³ãƒ", "1åˆ†ã‚¹ãƒ”ãƒ¼ãƒ"],
  updated: "2026-02-28"

        },
        {
          id: "003",
          title: "ï¼ˆæœªä½œæˆï¼‰",
          version: "v0",
          status: "todo",
          path: "apps/003.html",
          description: "æ¬¡ã®ãƒ†ãƒ¼ãƒç”¨ã®æ ã€‚",
          tags: ["æœªä½œæˆ"],
          updated: "-"
        },
        {
          id: "004",
          title: "ï¼ˆæœªä½œæˆï¼‰",
          version: "v0",
          status: "todo",
          path: "apps/004.html",
          description: "æ¬¡ã®ãƒ†ãƒ¼ãƒç”¨ã®æ ã€‚",
          tags: ["æœªä½œæˆ"],
          updated: "-"
        },
        {
          id: "005",
          title: "ï¼ˆæœªä½œæˆï¼‰",
          version: "v0",
          status: "todo",
          path: "apps/005.html",
          description: "æ¬¡ã®ãƒ†ãƒ¼ãƒç”¨ã®æ ã€‚",
          tags: ["æœªä½œæˆ"],
          updated: "-"
        }
      ];

      var appGrid = document.getElementById('appGrid');
      var searchInput = document.getElementById('searchInput');
      var showAllBtn = document.getElementById('showAllBtn');
      var showTodoBtn = document.getElementById('showTodoBtn');

      var mode = 'all'; // all | todo

      function escapeHtml(str) {
        return String(str)
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#39;');
      }

      function matchesSearch(app, keyword) {
        if (!keyword) return true;
        var q = keyword.toLowerCase();

        var hay = [
          app.id,
          app.title,
          app.version,
          app.description,
          (app.tags || []).join(' ')
        ].join(' ').toLowerCase();

        return hay.indexOf(q) !== -1;
      }

      function render() {
        var keyword = (searchInput.value || '').trim();

        var filtered = apps.filter(function (app) {
          if (mode === 'todo' && app.status !== 'todo') return false;
          return matchesSearch(app, keyword);
        });

        if (filtered.length === 0) {
          appGrid.innerHTML =
            '<div class="card" style="grid-column:1/-1;">' +
              '<div class="title">è©²å½“ã™ã‚‹ã‚¢ãƒ—ãƒªãŒã‚ã‚Šã¾ã›ã‚“</div>' +
              '<div class="desc">æ¤œç´¢èªã‚’å¤‰ãˆã‚‹ã‹ã€ã€Œå…¨ä»¶è¡¨ç¤ºã€ã‚’æŠ¼ã—ã¦ã¿ã¦ã­ã€‚</div>' +
            '</div>';
          return;
        }

        appGrid.innerHTML = filtered.map(function (app) {
          var isReady = app.status === 'ready';
          var cardClass = 'card' + (isReady ? '' : ' placeholder');

          var tagsHtml = (app.tags || []).map(function (tag) {
            return '<span class="tag">' + escapeHtml(tag) + '</span>';
          }).join('');

          var mainAction = isReady
            ? '<a class="btn btn-primary" href="' + escapeHtml(app.path) + '">é–‹ã</a>'
            : '<button class="btn btn-secondary" type="button" disabled>æœªä½œæˆ</button>';

          var copyLabel = '#' + app.id + ' ' + app.title;
          var copyButton = '<button class="btn btn-secondary" type="button" data-copy="' + escapeHtml(copyLabel) + '">ç•ªå·ã‚’ã‚³ãƒ”ãƒ¼</button>';

          return (
            '<div class="' + cardClass + '">' +
              '<div class="id-badge">#' + escapeHtml(app.id) + '</div>' +
              '<div class="row">' +
                '<div style="flex:1; min-width:0;">' +
                  '<p class="title">' + escapeHtml(app.title) + '</p>' +
                  '<div class="meta">Version: ' + escapeHtml(app.version) + ' / Updated: ' + escapeHtml(app.updated) + '</div>' +
                  '<div class="desc">' + escapeHtml(app.description) + '</div>' +
                  '<div class="tags">' + tagsHtml + '</div>' +
                '</div>' +
              '</div>' +
              '<div class="actions">' +
                mainAction +
                copyButton +
              '</div>' +
            '</div>'
          );
        }).join('');

        bindCopyButtons();
      }

      function bindCopyButtons() {
        var buttons = appGrid.querySelectorAll('[data-copy]');
        buttons.forEach(function (btn) {
          btn.addEventListener('click', function () {
            var text = btn.getAttribute('data-copy') || '';
            copyText(text).then(function () {
              var old = btn.textContent;
              btn.textContent = 'ã‚³ãƒ”ãƒ¼æ¸ˆã¿';
              setTimeout(function () {
                btn.textContent = old;
              }, 900);
            }).catch(function () {
              alert('ã‚³ãƒ”ãƒ¼ã§ããªã‹ã£ãŸã®ã§ã€æ‰‹ã§ãƒ¡ãƒ¢ã—ã¦ã­ï¼š' + text);
            });
          });
        });
      }

      function copyText(text) {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          return navigator.clipboard.writeText(text);
        }
        return new Promise(function (resolve, reject) {
          try {
            var ta = document.createElement('textarea');
            ta.value = text;
            ta.style.position = 'fixed';
            ta.style.left = '-9999px';
            document.body.appendChild(ta);
            ta.focus();
            ta.select();
            var ok = document.execCommand('copy');
            document.body.removeChild(ta);
            if (ok) resolve();
            else reject(new Error('copy failed'));
          } catch (e) {
            reject(e);
          }
        });
      }

      // ===== ã‚¤ãƒ™ãƒ³ãƒˆ =====
      searchInput.addEventListener('input', render);

      showAllBtn.addEventListener('click', function () {
        mode = 'all';
        render();
      });

      showTodoBtn.addEventListener('click', function () {
        mode = 'todo';
        render();
      });

      // ===== åˆæœŸåŒ– =====
      render();
    })();
  </script>
</body>
</html>
